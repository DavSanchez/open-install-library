---
- debug:
    msg: Install OracleDb

- name: Set default create_env_var (default not create)
  set_fact:
    create_env_var: "false"
  when: create_env_var is undefined

- name: Set default create_newrelic_user (default not create)
  set_fact:
    create_newrelic_user: "false"
  when: create_newrelic_user is undefined

- block:
  - name: Export NR_CLI_SERVICE_NAME
    shell: "echo export NR_CLI_SERVICE_NAME=test >> ~/.bashrc"
  - name: Export NR_CLI_PORT
    shell: "echo export NR_CLI_PORT=1521 >> ~/.bashrc"
  - name: Export NR_CLI_USERNAME
    shell: "echo export NR_CLI_USERNAME=NewRelicUser >> ~/.bashrc"
  - name: Export NR_CLI_PASSWORD
    shell: "echo export NR_CLI_PASSWORD=Virtuoso4all! >> ~/.bashrc"
  - name: Export NR_CLI_IS_SYS_DBA
    shell: "echo export NR_CLI_IS_SYS_DBA=false >> ~/.bashrc"
  - name: Export NR_CLI_IS_SYS_OPER
    shell: "echo export NR_CLI_IS_SYS_OPER=false >> ~/.bashrc"
  - name: Export NR_CLI_HOSTNAME
    shell: "echo export NR_CLI_HOSTNAME=localhost >> ~/.bashrc"
  - name: Export NR_CLI_ORACLE_HOME
    shell: "echo export NR_CLI_ORACLE_HOME=tbd >> ~/.bashrc"
  - name: Export NR_CLI_EXTENDED_METRICS
    shell: "echo export NR_CLI_EXTENDED_METRICS=false >> ~/.bashrc"
  when: create_env_var|bool


